<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dâ€™Andre Spears Beatstore</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#0d0d0d; color:#fff; }
    header { background:#111; padding:20px; text-align:center; font-size:1.5rem; font-weight:bold; }
    .store { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; padding:20px; }
    .beat { background:#1a1a1a; padding:15px; border-radius:10px; text-align:center; }
    .beat h3 { margin:10px 0; }
    audio { width:100%; margin-top:10px; }
    select,button,input { margin-top:10px; padding:8px; border:none; border-radius:5px; font-size:0.9rem; }
    button { cursor:pointer; background:#ff4747; color:#fff; }
    button:hover { background:#ff1c1c; }
    #cart { background:#111; padding:20px; position:fixed; right:0; top:0; width:320px; height:100%; overflow-y:auto; border-left:2px solid #222; }
    .cart-item { border-bottom:1px solid #333; padding:10px 0; }
    .total { font-weight:bold; margin-top:20px; text-align:center; }
    .checkout { display:flex; flex-direction:column; gap:10px; margin-top:15px; }
    .coupon { display:flex; gap:5px; }
    .coupon input { flex:1; }
  </style>
</head>
<body>
  <header>ðŸŽ¶ Dâ€™Andre Spears Beatstore ðŸŽ¶</header>
  <div class="store" id="store"></div>

  <div id="cart">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <div class="coupon">
      <input type="text" id="coupon-code" placeholder="Coupon code"/>
      <button onclick="applyCoupon()">Apply</button>
    </div>
    <div class="total" id="total">Total: $0</div>
    <div class="checkout">
      <button onclick="checkout('paypal')">Checkout with PayPal</button>
      <button onclick="checkout('cashapp')">Checkout with CashApp</button>
    </div>
  </div>

  <script>
    const beats = [
      {name:"Polo G Type Beat - Bad Days", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+2024+Polo+G+Type+Beat+-+Bad+Days-+%281%29.mp3"},
      {name:"Sad Guitar Type Beat - Love Lost", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+2024+Sad+Guitar+Type+Beat+-+Love+Lost+%281%29.mp3"},
      {name:"Boom Bap Beat - Lost Ones", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+BOOM+BAP+BEAT+-+LOST+ONES-.mp3"},
      {name:"BigXThaPlug Type Beat - Back Then", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+BigXThaPlug+Type+Beat+-+Back+Then.mp3"},
      {name:"BigXThaPlug Type Beat - Changes", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+BigXThaPlug+Type+Beat+-+Changes.mp3"},
      {name:"BigXThaPlug Type Beat - Pressure", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+BigXThaPlug+Type+Beat+-+Pressure+%28prod.+XoH%21+Beats%29.mp3"},
      {name:"BigXThaPlug Type Beat - Publicity", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+BigXthaPlug+Type+Beat+-+Publicity.mp3"},
      {name:"DMGB Type Beat - 4Life", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+DMGB+TYPE+BEAT+-+4LIFE.mp3"},
      {name:"DaBaby x Juice WRLD Type Beat - Petty", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+DaBaby+x+Juice+WRLD+Type+Beat+-+Petty.mp3"},
      {name:"Detroit Type Beat - Slappin 2", url:"https://archive.org/download/free-big-xtha-plug-type-beat-back-then/%28FREE%29+Detroit+Type+Beat+-+Slappin+2.mp3"}
    ];

    const licenses = [
      {type:"MP3 Lease", price:29},
      {type:"WAV Lease", price:59},
      {type:"Trackout Lease", price:149}
    ];

    const coupons = {"DISCOUNT10":0.9,"FAM20":0.8};
    let cart=[]; let discount=1;

    function renderStore(){
      const store=document.getElementById("store");
      beats.forEach((beat,i)=>{
        const div=document.createElement("div");
        div.className="beat";
        div.innerHTML=`
          <h3>${beat.name}</h3>
          <audio controls><source src="${beat.url}" type="audio/mpeg"></audio>
          <select id="license-${i}">
            ${licenses.map(l=>`<option value="${l.price}">${l.type} - $${l.price}</option>`).join("")}
          </select>
          <button onclick="addToCart(${i})">Add to Cart</button>`;
        store.appendChild(div);
      });
    }

    function addToCart(i){
      const sel=document.getElementById(`license-${i}`);
      const price=parseInt(sel.value);
      const licenseType=sel.options[sel.selectedIndex].text;
      cart.push({beat:beats[i].name,url:beats[i].url,license:licenseType,price});
      renderCart();
    }

    function renderCart(){
      const div=document.getElementById("cart-items");
      div.innerHTML="";
      cart.forEach((item,idx)=>{
        div.innerHTML+=`
          <div class="cart-item">
            ${item.beat} - ${item.license}<br/>$${item.price}
            <button onclick="removeFromCart(${idx})">Remove</button>
          </div>`;
      });
      updateTotal();
    }

    function removeFromCart(idx){ cart.splice(idx,1); renderCart(); }

    function updateTotal(){
      let total=cart.reduce((s,i)=>s+i.price,0)*discount;
      document.getElementById("total").innerText="Total: $"+Math.round(total);
    }

    function applyCoupon(){
      const code=document.getElementById("coupon-code").value.toUpperCase();
      if(coupons[code]){ discount=coupons[code]; updateTotal(); alert("Coupon applied!"); }
      else alert("Invalid coupon.");
    }

    function checkout(method){
      let total=cart.reduce((s,i)=>s+i.price,0)*discount;
      localStorage.setItem("order",JSON.stringify(cart)); // save cart for thankyou page
      if(method==="paypal") window.open(`https://paypal.me/dandrespears/${Math.round(total)}`,"_blank");
      if(method==="cashapp") window.open(`https://cash.app/$xollent25/${Math.round(total)}`,"_blank");
      setTimeout(()=>window.location.href="thankyou.html",2000); // auto-redirect
    }

    renderStore();
  </script>
</body>
</html>
